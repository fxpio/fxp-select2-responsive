var FxpSelect2Responsive=function(e,u,t){"use strict";function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?c(e):t}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=p(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function h(e,t,n,o){return(h="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,o){var r,i,l,s,c=p(e,t);if(c){if((r=Object.getOwnPropertyDescriptor(c,t)).set)return r.set.call(o,n),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(o,t)){if(!r.writable)return!1;r.value=n,Object.defineProperty(o,t,r)}else s=n,(l=t)in(i=o)?Object.defineProperty(i,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[l]=s;return!0})(e,t,n,o)}u=u&&u.hasOwnProperty("default")?u.default:u,t=t&&t.hasOwnProperty("default")?t.default:t;var v,m={},$=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};r(this,n),this.guid=u.guid,this.options=u.extend(!0,{},this.constructor.defaultOptions,t),this.$element=u(e)}return i(n,[{key:"destroy",value:function(){var t=this;Object.keys(t).forEach(function(e){delete t[e]})}}],[{key:"defaultOptions",set:function(e){m[this.name]=u.extend(!0,{},m[this.name],e)},get:function(){return void 0===m[this.name]&&(m[this.name]={}),m[this.name]}}]),n}(),y={},g=function(e){function t(){return r(this,t),a(this,l(t).apply(this,arguments))}return n(t,$),i(t,[{key:"locale",value:function(e){return this.constructor.locales[this.getLocale(e)]}},{key:"getLocale",value:function(e){if(this.constructor.locales[e=e||this.options.locale])return e;if(!e){if(void 0===v){var t=document.querySelector('head > meta[http-equiv="Content-Language"]');v=t&&t.content?t.content:null}if(void 0===v){var n=document.querySelector("html").lang;v=n||null}e=v}if("string"==typeof e&&((e=e.toLowerCase().replace("-","_")).indexOf("_")<0||void 0!==this.constructor.locales[e]||(e=e.substr(0,e.indexOf("_")))),void 0===this.constructor.locales[e]){var o=Object.keys(this.constructor.locales);e=0<o.length?o[0]:"en"}return this.options.locale=e}}],[{key:"locales",set:function(e){var t,n,o;if(this.defaultOptions={},"object"===f(e))for(t=Object.keys(e),n=0;n<t.length;++n)"object"===f(o=e[t[n]])&&(void 0===y[this.name]&&(y[this.name]={}),y[this.name][t[n]]=o)},get:function(){return void 0===y[this.name]&&(y[this.name]={}),y[this.name]}},{key:"defaultOptions",get:function(){return d(l(t),"defaultOptions",this)},set:function(e){void 0===e.locale&&(e.locale=null),function(e,t,n,o,r){if(!h(e,t,n,o||e)&&r)throw Error("failed to set property")}(l(t),"defaultOptions",e,this,!0)}}]),t}();function b(e){var t=u('<div class="select2-dropdown-responsive-mask'+(void 0!==e?"-"+e:"")+'"></div>');return t.css({position:"fixed",left:0,right:0,top:0,bottom:0}),u("body").append(t),t}function w(e){e.preventDefault(),e.stopPropagation(),e.data.close()}function O(e){var t=e.data,n=t.$element.data("select2"),o=u(".select2-dropdown",n.$dropdown),r=parseInt(n.$dropdown.css("margin-top"),10),i=parseInt(n.$dropdown.css("margin-bottom"),10),l=u(window).height(),s=o.outerHeight(),c=n.$results.outerHeight();0!==s&&(n.$results.css("max-height",l-(r=isNaN(r)?0:r)-(i=isNaN(i)?0:i)-(s-c)+"px"),void 0!==t.$multiSearchField&&void 0!==t.$cloneMultiSearch&&t.$multiSearchField.css({position:"fixed",margin:"0",padding:t.$cloneMultiSearch.css("padding"),top:t.$cloneMultiSearch.offset().top-u(window).scrollTop()+"px",left:t.$cloneMultiSearch.offset().left+"px",height:t.$cloneMultiSearch.outerHeight()+"px",border:t.$cloneMultiSearch.css("border"),background:t.$cloneMultiSearch.css("background"),"min-width":t.$cloneMultiSearch.outerWidth()+"px","max-width":t.$cloneMultiSearch.outerWidth()+"px"}))}function S(e){e.preventDefault(),e.stopPropagation()}function k(e){var t,n=e.data,o=n.$element.data("select2");null===n.$mask&&(n.$mask=b(),(t=n.$mask)instanceof jQuery&&1===parseInt(t.css("opacity"))&&(n.$maskOpening=b("opening"),setTimeout(function(){n.$maskOpening.remove(),delete n.$maskOpening},100),o.$container.addClass("select2-container-responsive"),o.$dropdown.addClass("select2-dropdown-responsive"),o.$dropdown.on("click.fxp.select2responsive",".select2-drop-footer .select2-btn-close",o,w),0===u(".select2-drop-footer",o.$dropdown).length&&o.$results.parent().after('<div class="select2-drop-footer"><span class="select2-drop-footer-btn select2-btn-close"><a href="#" tabindex="-1">'+n.locale().close+"</a></span></div>"),n.$multiSearchField=u(".select2-selection--multiple .select2-search__field",o.$container),1===n.$multiSearchField.length&&(n.$cloneMultiSearch=n.$multiSearchField.clone(!0).off(),n.$cloneMultiSearch.addClass("multi-responsive"),n.$dropMultiSearch=u('<span class="select2-search select2-search--dropdown"></span>'),n.$dropMultiSearch.append(n.$cloneMultiSearch),o.$results.parent().parent().prepend(n.$dropMultiSearch),n.$multiSearchField.on("click.fxp.select2responsive",null,n,S)),O(e)))}function x(e){var t=e.data,n=t.$element.data("select2");n.$dropdown.off("click.fxp.select2responsive",".select2-drop-footer .select2-btn-close",w),n.$container.removeClass("select2-container-responsive"),n.$dropdown.removeClass("select2-dropdown-responsive"),null!==t.$mask&&(t.$mask.remove(),t.$mask=null),void 0!==t.$maskOpening&&(t.$maskOpening.remove(),delete t.$maskOpening),void 0!==t.$dropMultiSearch&&(t.$dropMultiSearch.remove(),t.$multiSearchField.off("click.fxp.select2responsive",S),t.$multiSearchField.css({position:"",border:"",top:"",left:"",height:"",width:"",padding:"","min-width":"","max-width":"",margin:"",background:""}),t.$multiSearchField.css("width","0.75em"),delete t.$cloneMultiSearch,delete t.$dropMultiSearch,delete t.$multiSearchField)}var j=function(e){function o(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return r(this,o),(t=a(this,l(o).call(this,e,n))).$mask=null,t.$element.on("select2:open.fxp.select2responsive",null,c(t),k).on("select2:close.fxp.select2responsive",null,c(t),x),u(window).on("resize.fxp.select2responsive",null,c(t),O),t}return n(o,g),i(o,[{key:"destroy",value:function(){var e=this.$element.data("select2"),t=u(".select2-drop-footer",e.$dropdown);e.close(),null!==this.$mask&&this.$mask.remove(),0===t.length&&t.remove(),u(window).off("resize.fxp.select2responsive",O),this.$element.off("select2:open.fxp.select2responsive",k).off("select2:close.fxp.select2responsive",x),d(l(o.prototype),"destroy",this).call(this)}}]),o}();return j.locales={en:{close:"Close"}},function(t,s,c){var e=3<arguments.length&&void 0!==arguments[3]&&arguments[3],n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"destroy",o=u.fn[t];u.fn[t]=function(){for(var r,e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,l=Array(1<t?t-1:0),n=1;n<t;n++)l[n-1]=arguments[n];return 1===(e=this.each(function(e,t){var n=u(t),o=n.data(s);o||(o=new c(t,"object"===f(i)?i:{}),n.data(s,o)),"string"==typeof i&&o&&(o[i]?r=(r=o[i].apply(o,l))!==o?r:void 0:o.constructor[i]&&(r=(r=o.constructor[i].apply(o,l))!==o?r:void 0),i===a&&n.removeData(s))})).length&&void 0!==r?r:e},u.fn[t].Constructor=c,e&&(u[t]=function(e){return u({})[t](e)}),u.fn[t].noConflict=function(){return u.fn[t]=o},null!==n&&u(window).on("load",function(){u(n).each(function(){var e=u(this);u.fn[t].call(e,e.data())})})}("select2Responsive","fxp.select2responsive",j,!0,'[data-select2-responsive="true"]'),e.default=j,e}({},jQuery,select2);
